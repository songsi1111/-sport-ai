<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fudan University "College Cup" Campus Cheerleading Competition</title>
    <link rel="stylesheet" href="static/plugins/bootstrap-5.3.3-dist/css/bootstrap.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #E91E63;
            --secondary-color: #FFC107;
            --card-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            --background-gradient: linear-gradient(135deg, #fff5f5 0%, #ffe5e6 100%);
        }

        body {
            background: var(--background-gradient);
            font-family: 'Roboto', 'Noto Sans SC', sans-serif;
            line-height: 1.7;
        }

        .hero-section {
            background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.7)),
                        url('static/image/lalacao1.jpg') center/cover;
            color: white;
            padding: 6rem 0;
            clip-path: polygon(0 0, 100% 0, 100% 90%, 0 100%);
            margin-bottom: -3rem;
        }

        .pom-card {
            background: white;
            border-radius: 16px;
            box-shadow: var(--card-shadow);
            transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            margin-bottom: 2rem;
            overflow: hidden;
            border: none;
        }

        .pom-card:hover {
            transform: translateY(-8px) scale(1.02);
        }

        .section-icon {
            font-size: 2.8rem;
            color: var(--primary-color);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .timeline-stage {
            position: relative;
            padding-left: 2rem;
            margin: 2rem 0;
        }

        .timeline-stage::before {
            content: "▶";
            position: absolute;
            left: 0;
            top: 0;
            color: var(--primary-color);
            font-size: 1.5rem;
        }

        .btn-cheer {
            background: linear-gradient(135deg, var(--primary-color), #C2185B);
            color: white;
            padding: 1rem 2.5rem;
            border-radius: 30px;
            letter-spacing: 2px;
            transition: all 0.3s ease;
            border: none;
        }

        .btn-cheer:hover {
            transform: scale(1.05) rotate(-3deg);
            box-shadow: 0 8px 20px rgba(233, 30, 99, 0.3);
        }

        .award-badge {
            background: var(--secondary-color);
            color: #333;
            padding: 8px 16px;
            border-radius: 20px;
            display: inline-block;
            margin: 5px;
        }
    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
</head>
<body>

    <!-- 顶部横幅 -->
    <section class="hero-section text-center">
        <div class="container">
            <h1 class="display-3 fw-bold mb-4"> "College Cup" Campus Cheerleading Competition Campus Cheerleading Competition"</h1>
            <div class="d-flex justify-content-center align-items-center">
                <i class="material-icons me-3">celebration</i>
                <p class="lead mb-0">Unleash Youthful Energy, Dance with Fudan Spirit</p>
            </div>
        </div>
    </section>

    <!-- 主要内容 -->
    <main class="container py-5">
        <!-- 赛事流程卡片 -->
        <div class="pom-card p-4">
            <div class="text-center mb-5">
                <i class="material-icons section-icon">schedule</i>
                <h2 class="h1">Event Process</h2>
            </div>
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="timeline-stage">
                        <h3 class="h4 text-primary">Preliminary Review Stage</h3>
                        <p>Each Department Will Arrange Its Own Preliminary Review Time</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="timeline-stage">
                        <h3 class="h4 text-primary">Semi-Finals</h3>
                        <p>Top 8 Teams Advance<br>(Top College Team + 3 High-Scoring Teams)</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="timeline-stage">
                        <h3 class="h4 text-primary">Finals</h3>
                        <p>Time to Be Determined<br>Team PK Segment Added</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 参赛要求卡片 -->
        <div class="pom-card p-4">
            <div class="d-flex align-items-center mb-4">
                <i class="material-icons section-icon me-3">groups</i>
                <h2 class="h1">Participation Requirements</h2>
            </div>
            <div class="row g-4">
                <div class="col-md-6">
                    <div class="p-3 bg-light rounded">
                        <h4 class="text-primary">Performance Requirements</h4>
                        <ul class="list-unstyled">
                            <li>▶ Self-Choreographed Cheerleading Duration: 1'45"-2'15"</li>
                            <li>▶ Optional Styles: Pom/Street Dance/Classical Jazz</li>
                            <li>▶ Captain PK Segment Must Include Interactive Design</li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="p-3 bg-light rounded">
                        <h4 class="text-primary">Team Requirements</h4>
                        <ul class="list-unstyled">
                            <li>▶ Number of Participants: 8-24</li>
                            <li>▶ A Second Style Performance Must Be Prepared</li>
                            <li>▶ Uniform Costumes and Styling</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- 奖励机制卡片 -->
        <div class="pom-card p-4">
            <div class="d-flex align-items-center mb-4">
                <i class="material-icons section-icon me-3">military_tech</i>
                <h2 class="h1">Award Categories</h2>
            </div>
            <div class="row g-4">
                <div class="col-md-4 text-center">
                    <div class="award-badge">
                        <h4>Team Awards</h4>
                        <p>Champion/Runner-Up/Third Place Trophies<br>Certificates for Top 8 Teams</p>
                    </div>
                </div>
                <div class="col-md-4 text-center">
                    <div class="award-badge">
                        <h4>Individual Honors</h4>
                        <p>Best Captain<br>Most Charismatic Award</p>
                    </div>
                </div>
                <div class="col-md-4 text-center">
                    <div class="award-badge">
                        <h4>Special Benefits</h4>
                        <p>Participation Counts Toward Fitness Requirements<br>Popularity Vote Rewards</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 报名区块 -->
        <div class="pom-card p-4 text-center">
            <div class="d-flex align-items-center justify-content-center mb-4">
                <i class="material-icons section-icon me-3">campaign</i>
                <h2 class="h1">Sign Up Now</h2>
            </div>
            <p class="lead mb-4">Deadline: October 13, 24:00</p>
            <button class="btn btn-cheer btn-lg" id="registerBtn">
                <i class="material-icons me-2">edit</i>
                Join the Energetic Team Now
            </button>
        </div>
    </main>

    <script src="static/js/jquery-3.7.1.min.js"></script>
    <script src="static/plugins/bootstrap-5.3.3-dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
    $(document).ready(function() {
        const urlParams = new URLSearchParams(window.location.search);
        const userId = urlParams.get('Id');

        // 获取用户数据
        let userName = '';
        $.ajax({
            url: 'data.csv',
            dataType: 'text',
            success: function(data) {
                const rows = data.split('\n');
                rows.forEach(row => {
                    const cols = row.split(',');
                    if(cols[0] === userId) {
                        userName = cols[1];
                    }
                });
            }
        });

        $('#registerBtn').click(function() {
            if(!userId) {
                Swal.fire('Notice',  'Please Log In First', 'info');
                return;
            }

            Swal.fire({
                title: `Welcome ${userName}！`,
                html: `<div class="text-primary">
                    <i class="material-icons display-4">celebration</i>
                    <p class="mt-3">Successfully Joined the Cheerleading Contestant Queue</p>
                    <small>Please Stay Tuned for Further Selection Notices</small>
                </div>`,
                confirmButtonText: 'Embark on the Energetic Journey',
                customClass: {
                    popup: 'border-radius-20',
                    confirmButton: 'btn-cheer'
                }
            });

            // 提交报名请求
            fetch('/update', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ userId: userId })
            });
        });
    });
    </script>
</body>
</html>