<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Copa de Fútbol por Facultades de la Universidad de Fudan</title>
    <link rel="stylesheet" href="static/plugins/bootstrap-5.3.3-dist/css/bootstrap.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2E7D32;
            --secondary-color: #D32F2F;
            --card-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --background-gradient: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%);
        }

        body {
            background: var(--background-gradient);
            font-family: 'Roboto', 'Noto Sans SC', sans-serif;
            line-height: 1.6;
        }

        .hero-section {
            background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)),
                        url('static/image/football1.jpg') center/cover;
            color: white;
            padding: 5rem 0;
            clip-path: polygon(0 0, 100% 0, 100% 90%, 0 100%);
            margin-bottom: -4rem;
        }

        .material-card {
            background: white;
            border-radius: 12px;
            box-shadow: var(--card-shadow);
            transition: transform 0.3s ease;
            margin-bottom: 2rem;
            overflow: hidden;
            border: none;
        }

        .material-card:hover {
            transform: translateY(-5px);
        }

        .section-icon {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .btn-football {
            background: var(--primary-color);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            letter-spacing: 1px;
            transition: all 0.3s ease;
        }

        .btn-football:hover {
            background: #1B5E20;
            transform: translateY(-2px);
        }

        .rules-list li {
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        .timeline-item {
            border-left: 3px solid var(--primary-color);
            padding-left: 1.5rem;
            margin: 1.5rem 0;
            position: relative;
        }

        .timeline-item::before {
            content: "";
            position: absolute;
            left: -8px;
            top: 0;
            width: 14px;
            height: 14px;
            background: var(--primary-color);
            border-radius: 50%;
        }
    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
</head>
<body>

    <!-- 顶部横幅 -->
    <section class="hero-section text-center">
        <div class="container">
            <h1 class="display-4 mb-3">Copa de Fútbol por Facultades de la Universidad de Fudan</h1>
            <div class="d-flex justify-content-center align-items-center">
                <i class="material-icons me-2">sports_soccer</i>
                <p class="lead mb-0">19 de octubre - 8 de diciembre de 2024 | Campo de fútbol de Guofu Road</p>
            </div>
        </div>
    </section>

    <!-- 主要内容 -->
    <main class="container py-5">
        <!-- 赛事信息卡片 -->
        <div class="material-card p-4">
            <div class="text-center mb-4">
                <i class="material-icons section-icon">event_available</i>
                <h2>Información del torneo</h2>
            </div>
            <div class="row g-4">
                <div class="col-md-3">
                    <div class="timeline-item">
                        <h4>Fecha</h4>
                        <p class="text-muted">2024.10.19-12.8</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="timeline-item">
                        <h4>Lugar</h4>
                        <p class="text-muted"> Campo de fútbol de Guofu Road / Campo de fútbol de Jiangwan</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="timeline-item">
                        <h4>Formato</h4>
                        <p class="text-muted"> Partidos de 8 jugadores</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="timeline-item">
                        <h4>Categorías</h4>
                        <p class="text-muted"> Grupo de pregrado / Grupo de posgrado</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 参赛要求卡片 -->
        <div class="material-card p-4">
            <div class="d-flex align-items-center mb-4">
                <i class="material-icons section-icon me-3">assignment</i>
                <h3>Instrucciones para participar</h3>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <h4>Grupo de pregrado</h4>
                    <ul class="rules-list list-unstyled">
                        <li><strong> Los equipos se forman por facultad</strong><br> Estudiantes de pregrado en programas experimentales sin especialización definida deben inscribirse en el equipo de su facultad asignada. Estudiantes de pregrado de la Academia Xianghui pueden inscribirse en cualquier equipo de ciencias (matemáticas, física, química, biología) o ingeniería (informática, microelectrónica, computación). Los estudiantes de pregrado del Departamento de Educación Física y la Facultad de Intercambio Cultural Internacional pueden unirse como refuerzos en cualquier equipo (con las restricciones mencionadas más adelante). Para unidades académicas no mencionadas, los estudiantes deben contactar a la Asociación de Fútbol de la Universidad de Fudan para determinar el equipo de inscripción.  </li>
                        <li><strong>Solicitud de equipos combinados (sujeto a revisión)</strong><br> Los equipos de una sola facultad pueden solicitar formar un equipo combinado a la Asociación de Fútbol de Fudan.Los equipos que soliciten combinarse deben seguir el proceso normal de inscripción, con un máximo de 5 jugadores, y mencionar la solicitud de equipo combinado en el correo electrónico.  La Asociación de Fútbol de Fudan revisará las solicitudes después de la fecha límite de inscripción y determinará los equipos combinados basándose en el equilibrio de números y la afinidad de disciplinas.  Los equipos que quedaron entre los 4 primeros en la edición anterior no pueden solicitar equipos combinados.  </li>
                        <li>  El nombre del equipo se ajustará según el número real de inscripciones de cada facultad correspondiente. </li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <h4>Grupo de posgrado</h4>
                    <ul class="rules-list list-unstyled">
                        <li>Estudiantes de posgrado (excluyendo estudiantes de intercambio) deben inscribirse por facultad o formar equipos combinados con un máximo de otra facultad. Los equipos que quedaron entre los 4 primeros en la edición anterior no pueden solicitar equipos combinados.  
</li>
                    </ul>
                </div>
            </div>
            
        </div>

        <!-- 报名信息卡片 -->
        <div class="material-card p-4">
            <div class="d-flex align-items-center mb-4">
                <i class="material-icons section-icon me-3">how_to_reg</i>
                <h3>Requisitos de inscripción</h3>
            </div>
            <div class="row g-4">
                <div class="col-md-6">
                    <h5>Requisitos de personal</h5>
                    <ul class="rules-list list-unstyled">
                        <li>Cada equipo debe designar un líder (capitán), que debe ser profesor o estudiante de la facultad correspondiente. El líder puede ser también un jugador del equipo. El líder es el único representante del equipo y es responsable de la inscripción, sorteos, recepción de notificaciones, solicitudes, apelaciones y participación en arbitrajes.  </li>
                        <li>Cada equipo puede inscribir entre 10 y 17 jugadores, con un máximo de 3 refuerzos (solo 2 pueden jugar simultáneamente).  </li>
                        <li>Los equipos deben determinar un color uniforme para su equipación y calcetines. La camiseta no puede ser negra o de un color similar, y debe incluir números en la espalda (rango: 1-99).  
</li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <h5>Requisitos de materiales</h5>
                    <ul class="rules-list list-unstyled">
                        <li> Cada equipo debe completar el formulario de inscripción electrónico siguiendo estrictamente las instrucciones.  El archivo debe nombrarse como: "2024 Copa de Facultades (Pregrado/Posgrado) - Nombre del equipo".  
El líder debe enviar el formulario desde su correo electrónico de Fudan a la Asociación de Fútbol de Fudan: thefdfa@163.com, antes de la fecha límite. El asunto del correo debe coincidir con el nombre del archivo.  </li>
                        <li> Si los materiales de inscripción no son aprobados, el equipo debe realizar las correcciones necesarias y volver a enviarlos a tiempo. De lo contrario, se considerará que el equipo renuncia a participar.  
En caso de múltiples envíos, se considerará válido el último. No se aceptarán envíos fuera de plazo. Proceso posterior a la inscripción. Después del cierre de las inscripciones, se celebrará una reunión previa al torneo por categorías, donde se realizará el sorteo de los grupos. La fecha y el lugar se anunciarán más adelante.  
  </li>
                        <li><strong>Fechas límite de inscripción</strong><br>

                           Grupo de pregrado: 13 de octubre de 2024 (domingo) a las 22:00.  <br>
                            
                           Grupo de posgrado: 19 de octubre de 2024 (sábado) a las 22:00.  </li>
                    </ul>
                </div>
            </div>
            <div class="text-center mt-4">
                <button class="btn btn-football" id="registerBtn">
                    <i class="material-icons me-2">send</i>
                   Inscríbete ahora
                </button>
            </div>
        </div>

        <!-- 联系方式卡片 -->
        <div class="material-card p-4">
            <div class="d-flex align-items-center mb-4">
                <i class="material-icons section-icon me-3">contacts</i>
                <h3>Contacto</h3>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <p>Correo electrónico: thefdfa@163.com  </p>
                    <p>王叙衡：22301010113@m.fudan.edu.cn</p>
                </div>
            </div>
        </div>
    </main>

    <script src="static/js/jquery-3.7.1.min.js"></script>
    <script src="static/plugins/bootstrap-5.3.3-dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
    $(document).ready(function() {
        const urlParams = new URLSearchParams(window.location.search);
        const userId = urlParams.get('Id');

        // 获取用户数据
    let userName = '';
    $.ajax({
        url: 'data.csv',
        dataType: 'text',
        success: function(data) {
            const rows = data.split('\n');
            rows.forEach(row => {
                const cols = row.split(',');
                if(cols[0] === userId) {
                    userName = cols[1];
                }
            });
        }
    });

        $('#registerBtn').click(function() {
            if(!userId) {
                Swal.fire('错误', '请先登录系统', 'error');
                return;
            }

            Swal.fire({
                title: `Felicitaciones a ${userName} por su registro exitoso!`,
            text: 'Recibiste 5 puntos de actividad',
            
                icon: 'success',
                confirmButtonText: 'Confirmar',
                customClass: {
                    popup: 'border-radius-20'
                }
            });

            // 提交报名请求
            fetch('/update', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ userId: userId })
            });
        });
    });
    </script>
</body>
</html>