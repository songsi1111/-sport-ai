<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fakultäts-Cup Fußballturnier der Fudan-Universität</title>
    <link rel="stylesheet" href="static/plugins/bootstrap-5.3.3-dist/css/bootstrap.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2E7D32;
            --secondary-color: #D32F2F;
            --card-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --background-gradient: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%);
        }

        body {
            background: var(--background-gradient);
            font-family: 'Roboto', 'Noto Sans SC', sans-serif;
            line-height: 1.6;
        }

        .hero-section {
            background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)),
                        url('static/image/football1.jpg') center/cover;
            color: white;
            padding: 5rem 0;
            clip-path: polygon(0 0, 100% 0, 100% 90%, 0 100%);
            margin-bottom: -4rem;
        }

        .material-card {
            background: white;
            border-radius: 12px;
            box-shadow: var(--card-shadow);
            transition: transform 0.3s ease;
            margin-bottom: 2rem;
            overflow: hidden;
            border: none;
        }

        .material-card:hover {
            transform: translateY(-5px);
        }

        .section-icon {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .btn-football {
            background: var(--primary-color);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            letter-spacing: 1px;
            transition: all 0.3s ease;
        }

        .btn-football:hover {
            background: #1B5E20;
            transform: translateY(-2px);
        }

        .rules-list li {
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        .timeline-item {
            border-left: 3px solid var(--primary-color);
            padding-left: 1.5rem;
            margin: 1.5rem 0;
            position: relative;
        }

        .timeline-item::before {
            content: "";
            position: absolute;
            left: -8px;
            top: 0;
            width: 14px;
            height: 14px;
            background: var(--primary-color);
            border-radius: 50%;
        }
    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
</head>
<body>

    <!-- 顶部横幅 -->
    <section class="hero-section text-center">
        <div class="container">
            <h1 class="display-4 mb-3">Fakultäts-Cup Fußballturnier der Fudan-Universität</h1>
            <div class="d-flex justify-content-center align-items-center">
                <i class="material-icons me-2">sports_soccer</i>
                <p class="lead mb-0">19. Oktober 2024 bis 8. Dezember 2024 | Guofu Road Fußballplatz
</p>
            </div>
        </div>
    </section>

    <!-- 主要内容 -->
    <main class="container py-5">
        <!-- 赛事信息卡片 -->
        <div class="material-card p-4">
            <div class="text-center mb-4">
                <i class="material-icons section-icon">event_available</i>
                <h2>Veranstaltungsinformationen</h2>
            </div>
            <div class="row g-4">
                <div class="col-md-3">
                    <div class="timeline-item">
                        <h4>Termin</h4>
                        <p class="text-muted">19. Oktober 2024 bis 8. Dezember 2024</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="timeline-item">
                        <h4>Ort</h4>
                        <p class="text-muted">Guofu Road/Jiangwan Fußballplatz</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="timeline-item">
                        <h4>Turnierformat</h4>
                        <p class="text-muted">8-Mann-Teams</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="timeline-item">
                        <h4>Gruppen</h4>
                        <p class="text-muted">Undergraduate Gruppe/Postgraduate Gruppe</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 参赛要求卡片 -->
        <div class="material-card p-4">
            <div class="d-flex align-items-center mb-4">
                <i class="material-icons section-icon me-3">assignment</i>
                <h3>Teilnahmehinweise</h3>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <h4>Undergraduate Gruppe</h4>
                    <ul class="rules-list list-unstyled">
                        <li><strong>Anmeldung zur Teamformation nach Fakultäten</strong><br> Studierende im experimentellen Programm, deren Studienrichtung noch nicht festgelegt ist, melden sich für das Team ihrer betreuenden Fakultät an.Studierende der Xianghui-Klasse melden sich je nach Zugehörigkeit zu einem Experimentalkurs für ein beliebiges Naturwissenschafts- (Mathematik, Physik, Chemie, Biologie) oder Ingenieurteam (Informatik, Mikroelektronik, Computer) an.Studierende des Departments für Sport und des Internationalen Kultur- und Austauschkollegs können als externe Spieler für jedes beliebige Team anmelden. Beschränkungen für externe Spieler folgen.Studierende aus nicht genannten Fachbereichen wenden sich an den Fudan University Football Association, um das Team anzumelden.</li>
                        <li><strong>Teams können eine Vereinigung beantragen (muss geprüft werden)</strong><br> Einzelteams eines Fachbereichs können beim Fudan University Football Association einen Antrag auf Vereinigung stellen.Teams, die eine Vereinigung beantragen, melden sich nach den normalen Verfahren an. Die Anzahl der Spieler darf 5 nicht überschreiten und der Antrag auf Vereinigung muss in der E-Mail angegeben werden.Der Fudan Football Association wird die Anmeldungen nach Ablauf der Frist überprüfen und die Teams nach der Anzahl der Spieler sowie nach der Ähnlichkeit der Fachrichtungen zusammenstellen.Teams, die in der letzten Veranstaltung unter den ersten vier ihrer Gruppe waren, dürfen keinen Antrag auf Vereinigung stellen.</li>
                        <li>Die Teamnamen werden basierend auf der tatsächlichen Anzahl der Anmeldungen jedes Fachbereichs angepasst.</li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <h4>Postgraduate Gruppe</h4>
                    <ul class="rules-list list-unstyled">
                        <li>Berechtigte postgraduale (nicht Austausch-) Studierende (basierend auf ihrer Matrikelnummer) melden sich als Team ihrer Fakultät (Abteilung, Institut, Zentrum usw.) an.Oder sie können sich mit maximal einem anderen Fachbereich zu einem gemeinsamen Team anmelden.Die Organisation der gemeinsamen Teams erfolgt durch die jeweiligen Fachbereiche. Es wird empfohlen, dass die Fußballteams der Fachbereiche vor der Anmeldung miteinander kommunizieren.Teams, die in der letzten Veranstaltung unter den ersten vier ihrer Gruppe waren, dürfen keine neuen gemeinsamen Teams bilden oder ändern.</li>
                    </ul>
                </div>
            </div>
            
        </div>

        <!-- 报名信息卡片 -->
        <div class="material-card p-4">
            <div class="d-flex align-items-center mb-4">
                <i class="material-icons section-icon me-3">how_to_reg</i>
                <h3>Anmeldungsanforderungen</h3>
            </div>
            <div class="row g-4">
                <div class="col-md-6">
                    <h5>Anforderungen an die Teammitglieder</h5>
                    <ul class="rules-list list-unstyled">
                        <li>Jede Mannschaft muss einen Teamleiter haben.Der Teamleiter muss ein Mitglied der jeweiligen Fakultät sein, es kann auch ein Spieler des Teams sein.Der Teamleiter ist der einzige Vertreter des Teams und verantwortlich für die Anmeldung, Auslosung, Benachrichtigungen, Anträge, Einsprüche und Schiedsverfahren.</li>
                        <li>Mannschaft kann 10-17 Spieler anmelden, davon maximal 3 externe Spieler, wobei auf dem Spielfeld nicht mehr als 2 externe Spieler gleichzeitig spielen dürfen.</li>
                        <li>Die Mannschaften müssen einheitliche Trikots und Schienbeinschoner in einer festgelegten Farbe tragen.Trikots dürfen keine schwarze oder ähnliche Farben verwenden und müssen eine Nummer auf dem Rücken tragen. Die Nummern müssen im Bereich von 1 bis 99 liegen.</li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <h5>Materialanforderungen</h5>
                    <ul class="rules-list list-unstyled">
                        <li>Jede Mannschaft muss das elektronische Anmeldeformular gemäß den Anforderungen ausfüllen, das Formular muss “2024 Faculty Cup (Undergraduate/Postgraduate) Anmeldeformular- Teamname” genannt werden und vor der festgelegten Frist vom Teamleiter über die Fudan-E-Mail-Adresse an die Fudan Football Association (thefdfa@163.com) geschickt werden. Der Betreff der E-Mail muss mit dem Dateinamen des Formulars übereinstimmen.</li>
                        <li>Anmeldungen, die nicht genehmigt werden, müssen gemäß den Anforderungen zeitnah überarbeitet und erneut eingereicht werden. Nicht rechtzeitig eingereichte Anmeldungen gelten als Verzicht auf die Teilnahme. Bei mehrfacher Einreichung zählt die letzte Einreichung. Spät eingereichte Anmeldungen werden nicht berücksichtigt.



                            Nach Abschluss der Anmeldung wird eine Vorbesprechung nach Gruppen organisiert und eine Auslosung der Spielorte durchgeführt. Zeit und Ort werden noch bekannt gegeben.
</li>
                        <li><strong>Anmeldeschluss</strong><br>

                            Undergraduate Gruppe: 13. Oktober 2024 (Sonntag) 22:00<br>
                            
                            Postgraduate Gruppe: 19. Oktober 2024 (Samstag) 22:00</li>
                    </ul>
                </div>
            </div>
            <div class="text-center mt-4">
                <button class="btn btn-football" id="registerBtn">
                    <i class="material-icons me-2">send</i>
                   Jetzt anmelden
                </button>
            </div>
        </div>

        <!-- 联系方式卡片 -->
        <div class="material-card p-4">
            <div class="d-flex align-items-center mb-4">
                <i class="material-icons section-icon me-3">contacts</i>
                <h3>Kontaktieren Sie uns</h3>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <p>E-Mail: thefdfa@163.com</p>
                    <p>Wang Xuheng: 22301010113@m.fudan.edu.cn</p>
                </div>
            </div>
        </div>
    </main>

    <script src="static/js/jquery-3.7.1.min.js"></script>
    <script src="static/plugins/bootstrap-5.3.3-dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
    $(document).ready(function() {
        const urlParams = new URLSearchParams(window.location.search);
        const userId = urlParams.get('Id');

        // 获取用户数据
    let userName = '';
    $.ajax({
        url: 'data.csv',
        dataType: 'text',
        success: function(data) {
            const rows = data.split('\n');
            rows.forEach(row => {
                const cols = row.split(',');
                if(cols[0] === userId) {
                    userName = cols[1];
                }
            });
        }
    });

        $('#registerBtn').click(function() {
            if(!userId) {
                Swal.fire('Fehler', 'Bitte melden Sie sich zuerst an', 'error');
                return;
            }

            Swal.fire({
                title: `${userName}, Herzlichen Glückwunsch, die Anmeldung war erfolgreich!`,
            text: 'Du hast 5 Aktivitätspunkte erhalten',
            
                icon: 'success',
                confirmButtonText: 'Bestätigen',
                customClass: {
                    popup: 'border-radius-20'
                }
            });

            // 提交报名请求
            fetch('/update', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ userId: userId })
            });
        });
    });
    </script>
</body>
</html>