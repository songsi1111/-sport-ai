<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fudan University Interdepartmental Football Tournament</title>
    <link rel="stylesheet" href="static/plugins/bootstrap-5.3.3-dist/css/bootstrap.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2E7D32;
            --secondary-color: #D32F2F;
            --card-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --background-gradient: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%);
        }

        body {
            background: var(--background-gradient);
            font-family: 'Roboto', 'Noto Sans SC', sans-serif;
            line-height: 1.6;
        }

        .hero-section {
            background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)),
                        url('static/image/football1.jpg') center/cover;
            color: white;
            padding: 5rem 0;
            clip-path: polygon(0 0, 100% 0, 100% 90%, 0 100%);
            margin-bottom: -4rem;
        }

        .material-card {
            background: white;
            border-radius: 12px;
            box-shadow: var(--card-shadow);
            transition: transform 0.3s ease;
            margin-bottom: 2rem;
            overflow: hidden;
            border: none;
        }

        .material-card:hover {
            transform: translateY(-5px);
        }

        .section-icon {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .btn-football {
            background: var(--primary-color);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            letter-spacing: 1px;
            transition: all 0.3s ease;
        }

        .btn-football:hover {
            background: #1B5E20;
            transform: translateY(-2px);
        }

        .rules-list li {
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        .timeline-item {
            border-left: 3px solid var(--primary-color);
            padding-left: 1.5rem;
            margin: 1.5rem 0;
            position: relative;
        }

        .timeline-item::before {
            content: "";
            position: absolute;
            left: -8px;
            top: 0;
            width: 14px;
            height: 14px;
            background: var(--primary-color);
            border-radius: 50%;
        }
    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
</head>
<body>

    <!-- 顶部横幅 -->
    <section class="hero-section text-center">
        <div class="container">
            <h1 class="display-4 mb-3">Fudan University Interdepartmental Football Tournament</h1>
            <div class="d-flex justify-content-center align-items-center">
                <i class="material-icons me-2">sports_soccer</i>
                <p class="lead mb-0">October 19, 2024 – December 8, 2024 | Guofu Road Football Field</p>
            </div>
        </div>
    </section>

    <!-- 主要内容 -->
    <main class="container py-5">
        <!-- 赛事信息卡片 -->
        <div class="material-card p-4">
            <div class="text-center mb-4">
                <i class="material-icons section-icon">event_available</i>
                <h2>Event Information</h2>
            </div>
            <div class="row g-4">
                <div class="col-md-3">
                    <div class="timeline-item">
                        <h4>Time</h4>
                        <p class="text-muted">2024.10.19-12.8</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="timeline-item">
                        <h4>Venue</h4>
                        <p class="text-muted">Guofu Road/Jiangwan Football Field</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="timeline-item">
                        <h4>Competition System</h4>
                        <p class="text-muted">8-a-side Match</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="timeline-item">
                        <h4>Groups</h4>
                        <p class="text-muted">Undergraduate Group/Graduate Group</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 参赛要求卡片 -->
        <div class="material-card p-4">
            <div class="d-flex align-items-center mb-4">
                <i class="material-icons section-icon me-3">assignment</i>
                <h3>Participation Guidelines</h3>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <h4>Undergraduate Group</h4>
                    <ul class="rules-list list-unstyled">
                        <li><strong>Register as Teams by College</strong><br> Undergraduates in general experimental classes who have not yet declared a major should register with the team corresponding to their hosting department. Xianghui Academy undergraduates may register with any science (mathematics, physics, chemistry, biology) or engineering (information, microelectronics, computer science) team based on their experimental class. Undergraduates from the Department of Physical Education and the School of International Cultural Exchange may register as external players with any team, subject to external player restrictions outlined later. Undergraduates from unmentioned units should contact the Fudan University Football Association to determine their registration team.</li>
                        <li><strong>Combined Teams May Apply (Subject to Approval)</strong><br> Single-department teams may apply to the Fudan University Football Association to form combined teams. Teams applying to combine should follow the normal registration process, with fewer than 5 participants, and indicate their combined team application in the email. The Fudan Football Association will review applications after the registration deadline and determine combined team lists based on principles of balanced numbers and similar disciplines. Teams that ranked in the top four of this category in the previous tournament may not apply to combine.</li>
                        <li>Team names will be adjusted based on the actual number of registrants from each corresponding department.</li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <h4>Graduate Group</h4>
                    <ul class="rules-list list-unstyled">
                        <li>Eligible graduate students (excluding exchange students, based on student ID) should register as teams by their respective colleges (departments, institutes, centers, or other units, hereinafter referred to as "departments") or form combined teams with up to one other department. Combined team arrangements are independently organized by the departments, and it is recommended that departmental football teams communicate with each other before registration. Teams that ranked in the top four of this group in the previous tournament may not apply for or change combined teams.</li>
                    </ul>
                </div>
            </div>
            
        </div>

        <!-- 报名信息卡片 -->
        <div class="material-card p-4">
            <div class="d-flex align-items-center mb-4">
                <i class="material-icons section-icon me-3">how_to_reg</i>
                <h3>Registration Requirements</h3>
            </div>
            <div class="row g-4">
                <div class="col-md-6">
                    <h5>Personnel Requirements</h5>
                    <ul class="rules-list list-unstyled">
                        <li>Each team must appoint one team leader. The leader must be a faculty member or student from the corresponding department and may be concurrently held by a team athlete. The leader is the sole representative of the team, responsible for registration, draws, receiving notifications, applications, appeals, and participating in arbitration. </li>
                        <li>Each team may register 10-17 athletes, including no more than 3 external players, with no more than 2 external players on the field at any time. </li>
                        <li>Teams must determine their own uniform-colored jerseys and socks. Jerseys must not be black or similar colors and must have numbers printed on the back, ranging from 1 to 99.</li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <h5>Material Requirements</h5>
                    <ul class="rules-list list-unstyled">
                        <li>Each team must strictly follow the requirements to complete the electronic registration form, naming it "2024 Interdepartmental Cup (Undergrad/Grad) Registration Form - Team Name." Before the specified deadline, the team leader must send the form using their Fudan email account to the Fudan Football Association: thefdfa@163.com, with the email subject matching the registration form file name.</li>
                        <li>If registration materials are not approved, they must be revised and resubmitted promptly as required. Failure to resubmit on time will be considered a forfeiture of participation eligibility. In cases of multiple submissions, the last submission will be considered final. Late submissions will not be accepted.

                            After the registration process concludes, a pre-tournament coordination meeting will be held by group, along with a draw for team placements. The time and location will be announced independently.</li>
                        <li><strong>Registration Deadline</strong><br>

                            Undergraduate Group: Sunday, October 13, 2024, 22:00<br>
                            
                            Graduate Group: Saturday, October 19, 2024, 22:00</li>
                    </ul>
                </div>
            </div>
            <div class="text-center mt-4">
                <button class="btn btn-football" id="registerBtn">
                    <i class="material-icons me-2">send</i>
                    Sign Up Now
                </button>
            </div>
        </div>

        <!-- 联系方式卡片 -->
        <div class="material-card p-4">
            <div class="d-flex align-items-center mb-4">
                <i class="material-icons section-icon me-3">contacts</i>
                <h3>Contact Us</h3>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <p>email：thefdfa@163.com</p>
                    <p>ShuHeng Wang：22301010113@m.fudan.edu.cn</p>
                </div>
            </div>
        </div>
    </main>

    <script src="static/js/jquery-3.7.1.min.js"></script>
    <script src="static/plugins/bootstrap-5.3.3-dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
    $(document).ready(function() {
        const urlParams = new URLSearchParams(window.location.search);
        const userId = urlParams.get('Id');

        // 获取用户数据
    let userName = '';
    $.ajax({
        url: 'data.csv',
        dataType: 'text',
        success: function(data) {
            const rows = data.split('\n');
            rows.forEach(row => {
                const cols = row.split(',');
                if(cols[0] === userId) {
                    userName = cols[1];
                }
            });
        }
    });

        $('#registerBtn').click(function() {
            if(!userId) {
                Swal.fire( 'Please log in first.', 'error');
                return;
            }

            Swal.fire({
                title: `${userName} registration successful!`,
            text: 'You Have Earned 5 Event Points',
            
                icon: 'success',
                confirmButtonText: 'Confirm',
                customClass: {
                    popup: 'border-radius-20'
                }
            });

            // 提交报名请求
            fetch('/update', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ userId: userId })
            });
        });
    });
    </script>
</body>
</html>